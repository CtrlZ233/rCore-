## 实验设置

当前的实验框架下，只考虑衡量切换开销。

客户端要尽可能少地影响服务端，因此采用协程模型。

### Lab1

测量线程与协程的组合方式对性能的影响。

任务优先级设置的组合（三种）和模型设置的组合（三种），共九组实验。

- 通过相同优先级设置的不同模型组合的性能对比，分析模型切换的性能开销。
- 通过不同优先级设置的相同模型组合的性能对比，分析优先级设置的影响。

### Lab2
- 测量不同优先级连接的性能指标，目前只能设置协程模型下的优先级。
- 测量不同CPU数量下可保证的连接数（？比较模糊）

### Lab3

测试计算量对性能的影响。

不同计算量（3种）下的9个组合（任务优先级设置的组合（三种）和模型设置的组合（三种）），共27组实验。


## 三个子任务都是线程模型。

matrix size: 1   ;   send timer interval: 100 ms  ； run time limit: 5000 ms
|连接数| 1 |2 | 4 | 8 | 16 | 32 | 64 | 128 | 256 |
|---|---|---|---|---|---|---|---|---| --- |
| 吞吐量(请求数) |47 | 94  | 188 |376  |752 | 1504 |1354 |1244 | |
| 平均时延(um) |0 | 0  |  0| 1 |1 |4 |11 |11 | |
| 时延标准差 |0 |0   | 0 |0  |1 | 2|15 |29 | |


matrix size: 20   ;   send timer interval: 100 ms  ； run time limit: 5000 ms
|连接数| 1 |2 | 4 | 8 | 16 | 32 | 64 | 128 | 256 |
|---|---|---|---|---|---|---|---|---| --- |
| 吞吐量(请求数) |47 | 94  | 188 |376  |752 | 1504 |1354 |1244 | |
| 平均时延(um) |0 | 0  |  0| 1 |1 |5 |11 |11 | |
| 时延标准差 |0 |0   | 0 |0  |1 | 8|15 |29 | |


## 三个子任务都是协程模型。

matrix size: 1   ;   send timer interval: 100 ms  ； run time limit: 5000 ms  prio(receive, server, sender) = (2, 2, 2)
|连接数| 1 |2 | 4 | 8 | 16 | 32 | 64 | 128 | 256 |
|---|---|---|---|---|---|---|---|---| --- |
| 吞吐量(请求数) |48 | 96  | 192 |384  |768 | 1536 |3072 |6103 | |
| 平均时延(um) |2 | 3  |  3| 2 |2 |3 |4 |6 | |
| 时延标准差 |11 |12   | 14 |10  |8 | 8|25 |28 | |