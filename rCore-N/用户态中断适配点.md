1. 在trap init设置中断委托寄存器，同时设置scounteren寄存器使得在U态可以访问某些硬件寄存器。
2. 初始化外部中断控制器的中断优先级并使能S态下的4种外部中断。
3. 初始化串口设备。
4. 在内核地址空间映射plic地址和串口设备的缓存的地址。
5. 在TCB中添加字段user_trap_info。
6. __switch2 ?